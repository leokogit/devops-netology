## Домашние задания по курсу “DEVSYS-PDC-2 DevOps-инженер”. Кожаев Л.С.
### ДЗ. 03-sysadmin-06-net. 3.6. Компьютерные сети, лекция 1

#### 1. Работа c HTTP через телнет.

Подключитесь утилитой телнет к сайту stackoverflow.com telnet stackoverflow.com 80
отправьте HTTP запрос
GET /questions HTTP/1.0
HOST: stackoverflow.com
[press enter]
[press enter]

В ответе укажите полученный HTTP код, что он означает?

Ответ:

HTTP/1.1 301 Moved Permanently

location: https://stackoverflow.com/questions

Означает что запрошенный ресурс был на постоянной основе переадресован в новое место ( Адрес нового месторасположения ресурса указан в поле Location)



---
#### 2. Повторите задание 1 в браузере, используя консоль разработчика F12.

откройте вкладку Network
отправьте запрос http://stackoverflow.com
найдите первый ответ HTTP сервера, откройте вкладку Headers
укажите в ответе полученный HTTP код.
проверьте время загрузки страницы, какой запрос обрабатывался дольше всего?
приложите скриншот консоли браузера в ответ.

Ответ:

первый ответ HTTP сервера, http://stackoverflow.com открыт в браузере, на вкладке Headers:

Request URL: http://stackoverflow.com/
Request Method: GET
Status Code: 301 Moved Permanently
Remote Address: 151.101.129.69:80
Referrer Policy: strict-origin-when-cross-origin  



Время загрузки 904 ms (1.01 s полная) 
Обрабатывался дольше всего этот запрос:  stackoverflow.com

Cкриншот:

![stack](/03-sysadmin-06-net/stackload.jpg "stackload")

---

#### 3. Какой IP адрес у вас в интернете?

Ответ:

```
$ curl https://whoer.net/ | grep ip_plain
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 64754    0 64754    0     0   179k      0 --:--:-- --:--:-- --:--:--  179k    ip_plain: {ip: "85.26.155.60", iso: "ru"},
100  219k    0  219k    0     0   542k      0 --:--:-- --:--:-- --:--:--  541k


```
---

#### 4. Какому провайдеру принадлежит ваш IP адрес? Какой автономной системе AS? Воспользуйтесь утилитой whois

Ответ:


```
$ whois 85.26.155.60 | grep -e "origin" -e "descr"
descr:          Metropolitan branch of PJSC MegaFon, Moscow
origin:         AS25159


```

---

#### 5. Через какие сети проходит пакет, отправленный с вашего компьютера на адрес 8.8.8.8? Через какие AS? Воспользуйтесь утилитой traceroute

Ответ:

```
$ traceroute -An 8.8.8.8
traceroute to 8.8.8.8 (8.8.8.8), 30 hops max, 60 byte packets
 1  192.168.1.1 [*]  0.393 ms  0.338 ms  0.322 ms
 2  192.168.0.1 [*]  1.352 ms  1.337 ms  1.322 ms
 3  172.21.160.1 [*]  6.941 ms  10.566 ms  6.913 ms
 4  10.244.24.30 [*]  12.871 ms  10.559 ms  13.155 ms
 5  10.254.249.93 [*]  18.257 ms  17.205 ms  18.044 ms
 6  10.254.251.37 [*]  15.457 ms  11.937 ms  11.375 ms
 7  10.254.246.201 [*]  8.946 ms  9.035 ms  14.434 ms
 8  * * *
 9  * * *
10  108.170.225.44 [AS15169]  13.796 ms 108.170.227.82 [AS15169]  13.814 ms 108.170.250.129 [AS15169]  15.031 ms
11  * * *
12  209.85.255.136 [AS15169]  26.796 ms 142.251.71.194 [AS15169]  24.493 ms 216.239.51.32 [AS15169]  24.668 ms
13  172.253.65.82 [AS15169]  68.905 ms 216.239.48.224 [AS15169]  22.857 ms 74.125.253.109 [AS15169]  23.860 ms
14  172.253.51.239 [AS15169]  31.069 ms 142.250.56.13 [AS15169]  22.413 ms 172.253.79.237 [AS15169]  21.560 ms
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20  * * *
21  * * *
22  8.8.8.8 [AS15169]  25.874 ms * *


```

___

#### 6. Повторите задание 5 в утилите mtr. На каком участке наибольшая задержка - delay?

Ответ: AS15169  dns.google


```
$ mtr -r -z -c 20 8.8.8.8 >mtr
$ cat mtr

HOST: l-pc                        Loss%   Snt   Last   Avg  Best  Wrst StDev
  1. AS???    router.lan           0.0%    20    0.2   0.3   0.2   0.4   0.1
  2. AS???    192.168.0.1          0.0%    20    0.3   0.3   0.3   0.5   0.0
  3. AS???    172.21.160.1         0.0%    20    8.2   6.6   5.1  11.7   1.5
  4. AS???    10.244.24.30         0.0%    20   11.6  12.7   7.4  35.1   9.5
  5. AS???    10.254.249.93        0.0%    20    9.6  10.4   7.9  18.8   2.9
  6. AS???    10.254.251.37        0.0%    20   12.8  13.8   8.9  73.5  14.2
  7. AS???    10.254.246.201       0.0%    20    9.4  20.3   8.0 202.0  43.0
  8. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
  9. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
 10. AS15169  108.170.250.146     95.0%    20   22.1  22.1  22.1  22.1   0.0
 11. AS15169  142.251.71.194      10.0%    20   24.6  24.2  22.8  27.3   1.2
 12. AS15169  74.125.253.109       0.0%    20   19.9  22.7  19.8  36.9   3.9
 13. AS15169  172.253.51.245       0.0%    20   21.8  23.1  21.0  26.6   1.4
 14. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
 15. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
 16. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
 17. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
 18. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
 19. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
 20. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
 21. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
 22. AS???    ???                 100.0    20    0.0   0.0   0.0   0.0   0.0
 23. AS15169  dns.google          15.0%    20   24.7  24.4  22.3  28.9   1.8

```


---

#### 7. Какие DNS сервера отвечают за доменное имя dns.google? Какие A записи? воспользуйтесь утилитой dig


Ответ:

```
NS:

dns.google.             5235    IN      NS      ns4.zdns.google.
dns.google.             5235    IN      NS      ns1.zdns.google.
dns.google.             5235    IN      NS      ns2.zdns.google.
dns.google.             5235    IN      NS      ns3.zdns.google.

A:

dns.google.             57      IN      A       8.8.8.8
dns.google.             57      IN      A       8.8.4.4

```

---

#### 8. Проверьте PTR записи для IP адресов из задания 7. Какое доменное имя привязано к IP? воспользуйтесь утилитой dig


```
$ dig -x 8.8.8.8 | grep PTR
;8.8.8.8.in-addr.arpa.          IN      PTR
8.8.8.8.in-addr.arpa.   5768    IN      PTR     dns.google.

$ dig -x 8.8.4.4 | grep PTR
;4.4.8.8.in-addr.arpa.          IN      PTR
4.4.8.8.in-addr.arpa.   57722   IN      PTR     dns.google.

$ dig -x 8.8.8.8 +short
dns.google.

$ dig -x 8.8.4.4 +short
dns.google.

```

---
